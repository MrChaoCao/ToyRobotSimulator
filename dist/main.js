!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);class n{constructor(t,e,o){this.x=t,this.y=e,this.f=o,this.cardinalDirections={0:[0,1,"NORTH"],90:[1,0,"EAST"],180:[0,-1,"SOUTH"],270:[-1,0,"WEST"]},this.relativeDirections={RIGHT:90,LEFT:-90},this.toyRobot=document.getElementById("robotToy")}interpretMove(){const t=this.cardinalDirections[this.f],e=this.x+t[0],o=this.y+t[1];this.updatePosition(e,o,this.f)}interpretRotate(t){let e=this.f+this.relativeDirections[t];e>=360?e-=360:e<0&&(e+=360),this.updatePosition(this.x,this.y,e)}updatePosition(t,e,o){this._validMove(t,e,o)&&(this.x=t,this.y=e,this.f=o,this.render())}report(){console.log(this.x,this.y,this.f)}render(){this.bodyMarginY=8,this.bodyMarginX,document.getElementById("robotToy").style.left=`${30*this.x+1}px`,document.getElementById("robotToy").style.bottom=`${30*this.y}px`,document.getElementById("robotToy").style.transform=`rotate(${this.f}deg)`}_unHideRobot(){document.getElementById("robotToy").style.visibility="visible"}_validMove(t,e,o){return this._inBounds(t,e)&&this._validInput(t,e,o)}_validInput(t,e,o){return"number"==typeof t&&"number"==typeof e&&this.cardinalDirections.hasOwnProperty(o)}_inBounds(t,e){return t>=0&&t<=4&&e>=0&&e<=4}}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("command-list"),e=document.getElementById("board"),o=document.createDocumentFragment();for(let t=0;t<5;t++){const e=document.createElement("ul");e.id=t;for(let t=0;t<5;t++){const o=document.createElement("li");o.classList.add(`${t}`),e.append(o)}o.append(e)}console.log(o),e.append(o),document.getElementById("run").addEventListener("click",()=>{new class{constructor(){this.commands=document.getElementById("command-list").value.split("\n"),this.toyRobot=new n(0,0,0),this.placed=!1,this.executeCommands()}executeCommands(){setInterval(()=>{if(this.commands.length>0){let t=this.commands.shift();this.inputToCommand(t)}},500)}inputToCommand(t){const e={MOVE:()=>this.toyRobot.interpretMove(),LEFT:()=>this.toyRobot.interpretRotate("LEFT"),RIGHT:()=>this.toyRobot.interpretRotate("RIGHT"),REPORT:()=>this.toyRobot.report()};this.placed&&e.hasOwnProperty(t)?e[t]():this.validPlaceCommand(t)&&(this.placed||(this.placed=!0,this.toyRobot._unHideRobot()),this.makePlaceCommand(t))}validPlaceCommand(t){if(!t.includes("PLACE "))return!1;const e=t.split(" "),o=e[1].split(",");return this.placeX=parseInt(o[0]),this.placeY=parseInt(o[1]),this.placeF=parseInt(this._directionParser(o[2])),"PLACE"===e[0]&&3===o.length&&this.placeX<=4&&this.placeY<=4&&this.toyRobot.cardinalDirections.hasOwnProperty(this.placeF)}makePlaceCommand(){this.toyRobot.updatePosition(this.placeX,this.placeY,this.placeF)}_directionParser(t){return Object.keys(this.toyRobot.cardinalDirections).find(e=>this.toyRobot.cardinalDirections[e][2]===t)}}}),document.getElementById("reset").addEventListener("click",()=>{t.value=""})})}]);